/*!
 * draggable-helper v1.0.12
 * (c) 2018-present phphe <phphe@outlook.com> (https://github.com/phphe)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.draggableHelper=t()}(this,function(){"use strict";var e;try{e=global}catch(t){e=window}function t(e){var t=e.getBoundingClientRect(),n=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var e=document.body,t=document.documentElement;return{top:(t=t.clientHeight?t:e).scrollTop,left:t.scrollLeft}}();return{x:t.left+n.left,y:t.top+n.top}}function n(e,t){e["original_".concat(t)]=e.getAttribute(t)}function o(e,t){var n="original_".concat(t);e.setAttribute(t,e[n])}function r(e,t){(function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)})(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function i(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on".concat(t),n)}function a(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on".concat(t),n)}function s(e){return{storage:e,set:function(e,t,n){null==t?this.storage.removeItem(e):this.storage.setItem(e,JSON.stringify({value:t,expired_at:n&&(new Date).getTime()/1e3+60*n}))},get:function(e){var t=this.storage.getItem(e);if(t){if(!(t=JSON.parse(t)).expired_at||t.expired_at>(new Date).getTime())return t.value;this.storage.removeItem(e)}return null},clear:function(){this.storage.clear()}}}s(e.localStorage),s(e.sessionStorage);var l={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},c={canTouch:function(){return"ontouchstart"in document.documentElement},_getStore:function(e){return e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore},on:function(e,t,n){var o=this._getStore(e),r=this.canTouch(),a=function(e){var o;if(r)o={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};else{if("start"===t&&1!==e.which)return;o={x:e.pageX,y:e.pageY}}return n.call(this,e,o)};o.push({handler:n,wrapper:a}),i(e,l[t][r?1:0],a)},off:function(e,t,n){for(var o=this._getStore(e),r=this.canTouch(),i=l[t][r?1:0],s=o.length-1;s>=0;s--){var c=o[s],u=c.handler,d=c.wrapper;n===u&&(a(e,i,d),o.splice(s,1))}}};return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==s.minTranslate&&(s.minTranslate=10);var l={movedCount:0},u=function(){c.off(e,"end",e._draggbleEventHandler),delete e._draggbleEventHandler};return e._draggbleEventHandler&&u(),e._draggbleEventHandler=function(e,t){e.stopPropagation(),i(document.body,"selectstart",p),l.mouse={x:t.x,y:t.y},l.initialMouse=Object.assign({},l.mouse),c.on(document,"move",f),c.on(window,"end",g)},c.on(e,"start",e._draggbleEventHandler),u;function d(o){var i=function(){var n=s.getEl?s.getEl(e,s):e,o=n;return s.clone&&(l.triggerEl=n,o=n.cloneNode(!0),n.parentElement.appendChild(o)),{position:function(e,n){var o=e.offsetLeft,r=e.offsetTop,i=t(e);return{x:n.x-(i.x-o),y:n.y-(i.y-r)}}(o,t(n)),el:o}}(),c=i.el,u=i.position;if(l.el=c,l.initialPosition=Object.assign({},u),!1===(s.drag&&s.drag(o,s,l)))return a(document.body,"selectstart",p),!1;var d=function(e){var t=e.style.display;e.style.display="block";var n={width:e.offsetWidth,height:e.offsetHeight};return e.style.display=t,n}(c),f=Object.assign({width:"".concat(d.width,"px"),height:"".concat(d.height,"px"),zIndex:9999,opacity:.6,position:"absolute",left:u.x+"px",top:u.y+"px"},s.style||s.getStyle&&s.getStyle(s)||{});for(var g in n(c,"style"),f)c.style[g]=f[g];n(c,"class"),r(c,s.draggingClass);var v=document.body,m=(v.getAttribute("style")||"").trim();m.length&&!m.endsWith(";")&&(m+=";"),n(v,"style"),v.style=m+"cursor: move;"}function f(e,t){l.mouse={x:t.x,y:t.y};var n=l.move={x:l.mouse.x-l.initialMouse.x,y:l.mouse.y-l.initialMouse.y};if(0===l.movedCount&&s.minTranslate){var o=Math.pow(l.move.x,2),r=Math.pow(l.move.y,2);if(Math.pow(o+r,.5)<s.minTranslate)return}var i=!0;if(0===l.movedCount&&!1===d(e)&&(i=!1),i&&s.moving&&!1===s.moving(e,s,l)&&(i=!1),i){if(!l||!l.el)return;Object.assign(l.el.style,{left:l.initialPosition.x+n.x+"px",top:l.initialPosition.y+n.y+"px"}),l.movedCount++}}function g(e){if(c.off(document,"move",f),c.off(window,"end",g),l.movedCount>0){l.movedCount=0;var t=l.el;s.clone?t.parentElement.removeChild(t):(o(t,"style"),o(t,"class")),o(document.body,"style"),a(document.body,"selectstart",p),s.drop&&s.drop(e,s,l)}l={movedCount:0}}function p(e){e.preventDefault()}}});
//# sourceMappingURL=draggable-helper.min.js.map
